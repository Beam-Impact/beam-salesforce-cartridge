<iscomment>

Template Notes:

- This template is intended to be referenced from an <isinclude> tag within an <isloop> in another
  source template.  The <isloop> is expected to have a "status" attribute, named "attributeStatus".
- ${attributeStatus.last} is checked to see whether a particular attribute row should include the
  Quantity drop-down menu

</iscomment>

<div data-attr="${attr.id}" class="swatch">
    <div class="attribute">
        <!-- Select <Attribute> Label -->
        <label class="${attr.id}">
            ${Resource.msg('label.select', 'common', null)} ${attr.displayName}
        </label>

        <isif condition="${attr.swatchable}">
            <!-- Circular Swatch Image Attribute Values -->
            <isloop items="${attr.values}" var="attrValue">
                <a href="${attrValue.url}">
                    <span data-attr-value="${attrValue.value}"
                              data-selected="${attrValue.selected}"
                              class="${attr.id}-value swatch-circle swatch-value"
                              style="background-image: url(${attrValue.images['swatch'][0].url})"
                              <isif condition="${attrValue.selectable}">
                                  selectable
                              <iselse>
                                  unselectable
                              </isif>
                    >
                    </span>
                </a>
            </isloop>

            <isif condition="${attributeStatus.last}">
                <!-- Quantity Drop Down Menu -->
                <div class="quantity col-sm-6">
                    <isinclude template="/components/product/quantity" />
                </div>
            </isif>

        <iselse>
            <!-- Attribute Values Drop Down Menu -->
            <select class="select-${attr.id}">
                <option value="null">
                    ${Resource.msg('label.select', 'common', null)} ${attr.displayName}
                </option>
                <isloop items="${attr.values}" var="attrValue">
                    <option value="${attrValue.url}" data-attr-value="${attrValue.value}"
                        <isif condition="${!attrValue.selectable}">disabled</isif>
                        <isif condition="${attrValue.selected}">selected</isif>
                    >
                        ${attrValue.displayValue}
                    </option>
                </isloop>
            </select>

            <isif condition="${attributeStatus.last}">
                <!-- Quantity Drop Down Menu -->
                <div class="quantity col-sm-6">
                    <isinclude template="/components/product/quantity" />
                </div>
            </isif>

        </isif>
    </div>
</div>
